---
const cards = await Astro.glob("../content/*.md");
const { title } = Astro.props; // Receive the title as a prop
---

<section>
  <h2>{title}</h2> <!-- Use the title prop here -->
  <div class="card-container">
    {
      cards.map((card) => (
        <div class="card">
          <ul>
            {card.frontmatter.links.map((link) => (
              <li>
                <a href={link.href}>
                  <img class="svg-icon" src={link.src} alt={link.alt} />
                  {link.title}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))
    }
  </div>
</section>

<style>
  section {
    background-color: var(--card-background-color);
    border-radius: var(--border-radius);
    width: 100%;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  h2 {
    font-weight: bold;
    font-size: 25px;
    text-align: center;
  }

  .card-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
  }

  .card {
    background-color: var(--card-background-color);
    border-radius: var(--border-radius);
    padding: 20px;
    width: 170px;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  ul {
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  ul li {
    font-size: 20px;
  }

  ul li a {
    color: var(--text-color);
    text-decoration: none;
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
    gap: 10px;
  }

  ul li a:visited {
    color: var(--text-color);
  }

  ul li a img {
    max-width: 24px;
    max-height: 24px;
  }

  .svg-icon {
    filter: invert(0%);
  }

  @media (prefers-color-scheme: dark) {
    .svg-icon {
      filter: invert(100%);
    }
  }
</style>